<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Scan to PDF ‚Äì PDF Chamber</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- CropperJS and PDF Lib -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<style>
:root {
  --focus: #00AEEF;
  --header-bg: #0a8b65;
  --footer-bg: #0a8b65;
  --footer-text: #fff;
  --bg-gradient: linear-gradient(135deg,#aef1fc 0%,#E3F2FD 50%,#90CAF9 100%);
  --text-primary: #002B5B;
  --text-secondary: #455A64;
  --card-border: #005f99;
  --hover-glow: #00c6d8;
}

[data-theme="dark"] {
  --bg-gradient: linear-gradient(135deg,#0D1B2A 0%,#1B263B 50%,#415A77 100%);
  --text-primary: #E0E1DD;
  --text-secondary: #778DA9;
}

*{box-sizing:border-box;margin:0;padding:0;}
html,body{
  height:100%;
  overflow-x:hidden;
  background:var(--bg-gradient);
  color:var(--text-primary);
  font-family:'Inter',system-ui,sans-serif;
  display:flex;
  flex-direction:column;
}

/* HEADER */
header{
  background:var(--header-bg);
  padding:1rem 5%;
  color:#fff;
  position:fixed;
  top:0;
  width:100%;
  z-index:1000;
  box-shadow:0 4px 20px rgba(0,0,0,0.1);
}
main{margin-top:90px;flex:1;display:flex;flex-direction:column;align-items:center;padding:1rem 1rem 3rem;text-align:center;}
.logo{display:flex;align-items:center;gap:.75rem;font-size:1.8rem;font-weight:700;text-decoration:none;color:#fff;}
.tagline{color:#E2E8F0;font-size:.95rem;}
.theme-toggle{width:56px;height:30px;background:rgba(255,255,255,0.2);border:2px solid #fff;border-radius:50px;position:relative;cursor:pointer;}
.theme-toggle::before{content:'';position:absolute;top:3px;left:4px;width:20px;height:20px;background:#fff;border-radius:50%;transition:transform .3s ease;}
[data-theme="dark"] .theme-toggle::before{transform:translateX(24px);background:#1B263B;}

/* TITLE */
h2{
  font-size:2.6rem;
  background:linear-gradient(90deg,#74ea00,#00AEEF);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:.5rem;
  font-weight:700;
}
.subtext{font-size:1.4rem;color:var(--header-bg);margin-bottom:2rem;font-weight:600;}

/* QR Section */
.qr-section{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:45vh;}
.qr-box{
  background:#fff;
  border:3px solid #005f99;
  border-radius:18px;
  box-shadow:0 0 25px rgba(0,198,216,0.5),inset 0 0 15px rgba(0,198,216,0.3);
  padding:2rem;
  animation:glowPulse 3s ease-in-out infinite;
}
.qr-box img{width:200px;height:200px;}
@keyframes glowPulse {
  0%,100% { box-shadow:0 0 20px #00c6d8,inset 0 0 10px rgba(0,198,216,0.5); }
  50% { box-shadow:0 0 35px #00c6d8,inset 0 0 20px rgba(0,198,216,0.8); }
}

/* Features Section */
.features{display:flex;flex-wrap:wrap;justify-content:center;gap:2.5rem;margin-top:3rem;max-width:1300px;}
.feature-card{
  background:#fff;
  border-radius:18px;
  border:2px solid var(--card-border);
  box-shadow:0 8px 30px rgba(0,0,0,0.08);
  padding:2.5rem 2rem;
  width:360px;
  height:200px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  transition:transform .3s ease, box-shadow .3s ease, border .3s ease;
}
.feature-card:hover{
  transform:translateY(-8px) scale(1.02);
  border-color:var(--hover-glow);
  box-shadow:0 0 25px var(--hover-glow), 0 0 45px rgba(0,198,216,0.5);
}
.feature-card h3{
  color:#005f99;
  margin-bottom:.75rem;
  font-size:1.4rem;
  text-align:center;
  line-height:1.4;
}
.feature-card p{
  color:var(--text-secondary);
  font-size:1.05rem;
  text-align:center;
  line-height:1.5;
  max-width:300px;
}

/* Mobile Scanner UI */
#scanner-container{display:none;flex-direction:column;align-items:center;padding:1rem;}
video{width:100%;max-width:400px;border-radius:10px;border:3px solid #00c6d8;}
.controls{margin-top:1rem;display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;}
button{
  padding:.75rem 1.25rem;
  background:#0a8b65;
  color:#fff;
  border:none;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
}
button:hover{background:#087a58;}
canvas{display:none;}

/* Footer */
footer{
  background:var(--footer-bg);
  color:var(--footer-text);
  padding:2rem 5%;
  text-align:center;
  font-size:.9rem;
  margin-top:auto;
}
.footer-links{margin-bottom:.75rem;}
.footer-links a{color:#fff;margin:0 1rem;text-decoration:underline;font-weight:500;}
</style>
</head>
<body>
<header>
  <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;">
    <a href="index.html" class="logo">
      <svg viewBox="0 0 24 24" fill="white" width="40" height="40"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 .9 2h12c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"/></svg>
      PDF Chamber
    </a>
    <div style="display:flex;align-items:center;gap:1rem;">
      <div class="tagline">Smart PDFs, Seamless Productivity</div>
      <button class="theme-toggle" id="themeToggle"></button>
    </div>
  </div>
</header>

<main id="main-content">
  <section class="qr-section">
    <h2>Scan to PDF</h2>
    <div class="subtext">Scan this QR code using your mobile device to open the Scan to PDF tool.</div>
    <div class="qr-box">
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://pdfchamber.github.io/myfile1/scan-to-pdf.html&color=00c6d8" alt="QR">
    </div>
  </section>

  <section class="features">
    <div class="feature-card">
      <h3>üì∏ Instant Scanning</h3>
      <p>Capture documents or notes using your camera and convert them into high-quality PDFs.</p>
    </div>
    <div class="feature-card">
      <h3>üß† Smart Auto-Crop</h3>
      <p>Automatically detect document edges and crop them perfectly for a clean, professional look.</p>
    </div>
    <div class="feature-card">
      <h3>‚òÅÔ∏è Share Easily</h3>
      <p>Download or share your PDF instantly ‚Äî seamless, secure, and always accessible.</p>
    </div>
  </section>
</main>

<!-- Mobile Scanner Section -->
<div id="scanner-container">
  <h2>Scan Document</h2>
  <video id="video" autoplay playsinline></video>
  <canvas id="canvas"></canvas>
  <div class="controls">
    <button id="capture">Capture</button>
    <button id="download" disabled>Download PDF</button>
  </div>
</div>

<footer>
  <div class="footer-links">
    <a href="#">About</a>
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">Support</a>
  </div>
  <div>¬© 2025 PDF Chamber. All rights reserved.</div>
</footer>

<script>
const themeToggle=document.getElementById('themeToggle');
const setTheme=t=>document.documentElement.setAttribute('data-theme',t);
setTheme(localStorage.getItem('theme')||'light');
themeToggle.addEventListener('click',()=>{
  const newTheme=document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark';
  setTheme(newTheme);
  localStorage.setItem('theme',newTheme);
});

// ===== Mobile detection =====
if(/Mobi|Android|iPhone/i.test(navigator.userAgent)){
  document.getElementById('main-content').style.display='none';
  document.getElementById('scanner-container').style.display='flex';
  startCamera();
}

async function startCamera(){
  const video=document.getElementById('video');
  const canvas=document.getElementById('canvas');
  const ctx=canvas.getContext('2d');
  const captureBtn=document.getElementById('capture');
  const downloadBtn=document.getElementById('download');

  const stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:'environment'}});
  video.srcObject=stream;

  captureBtn.onclick=()=>{
    canvas.width=video.videoWidth;
    canvas.height=video.videoHeight;
    ctx.drawImage(video,0,0,canvas.width,canvas.height);
    canvas.style.display='block';
    captureBtn.textContent='Retake';
    downloadBtn.disabled=false;

    captureBtn.onclick=()=>{
      canvas.style.display='none';
      captureBtn.textContent='Capture';
      downloadBtn.disabled=true;
    };
  };

  downloadBtn.onclick=async()=>{
    const imgData=canvas.toDataURL('image/jpeg',1.0);
    const pdfDoc=await PDFLib.PDFDocument.create();
    const page=pdfDoc.addPage();
    const img=await pdfDoc.embedJpg(imgData);
    const {width,height}=img.scale(0.5);
    page.drawImage(img,{x:50,y:150,width:width,height:height});
    const pdfBytes=await pdfDoc.save();
    const blob=new Blob([pdfBytes],{type:'application/pdf'});
    saveAs(blob,'scan.pdf');
  };
}
</script>
</body>
</html>
