<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DocScan Pro | Mobile Document Scanner</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  <style>
    :root {
      --primary: #2c7be5;
      --primary-dark: #1a68d1;
      --success: #00d97e;
      --dark: #12263f;
      --light: #f9fbfd;
      --gray: #95aac9;
      --radius: 10px;
      --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      --transition: all 0.3s ease;
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
    body{background:#f5f7fb;color:var(--dark);min-height:100vh;}
    .desktop-view{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center;}
    .desktop-logo{display:flex;align-items:center;gap:15px;font-size:32px;font-weight:700;color:var(--primary);margin-bottom:30px;}
    .desktop-logo i{font-size:40px;}
    .desktop-title{font-size:36px;font-weight:700;margin-bottom:20px;}
    .desktop-subtitle{font-size:18px;color:var(--gray);max-width:600px;margin:0 auto 40px;line-height:1.6;}
    .qr-container{background:white;border-radius:var(--radius);box-shadow:var(--shadow);padding:30px;margin-bottom:40px;max-width:400px;width:100%;}
    .qr-title{font-size:20px;font-weight:600;margin-bottom:20px;}
    .qr-code{width:100%;max-width:250px;margin:0 auto 20px;background:white;padding:20px;border-radius:10px;display:block;}
    .qr-instructions{font-size:16px;color:var(--gray);margin-bottom:10px;}
    .mobile-view{display:none;background:white;min-height:100vh;}
    .mobile-header{padding:15px;background:var(--primary);color:white;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
    .mobile-logo{display:flex;align-items:center;gap:10px;font-size:20px;font-weight:700;}
    .mobile-controls{display:flex;gap:15px;}
    .mobile-control-btn{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);}
    .mobile-control-btn:hover{background:rgba(255,255,255,0.3);}
    .mobile-camera{height:60vh;background:#2c3e50;position:relative;display:flex;align-items:center;justify-content:center;color:white;overflow:hidden;}
    .camera-placeholder{text-align:center;padding:20px;transition:var(--transition);}
    .camera-placeholder i{font-size:80px;margin-bottom:20px;opacity:0.7;}
    .camera-preview{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;display:none;}
    .auto-detect-indicator{position:absolute;top:20px;left:20px;background:rgba(0,0,0,0.7);color:white;padding:8px 15px;border-radius:20px;font-size:14px;display:flex;align-items:center;gap:8px;z-index:10;}
    .document-outline{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:60%;border:2px dashed var(--success);border-radius:5px;transition:var(--transition);}
    .document-outline.detected{border:2px solid var(--success);box-shadow:0 0 0 1000px rgba(0,0,0,0.4);}
    .flash-effect{position:absolute;top:0;left:0;width:100%;height:100%;background:white;opacity:0;pointer-events:none;z-index:15;}
    .flash-effect.active{animation:flash .3s ease;}
    @keyframes flash{0%{opacity:0;}50%{opacity:.8;}100%{opacity:0;}}
    .mobile-controls-bottom{padding:20px;display:flex;justify-content:space-between;align-items:center;background:white;border-top:1px solid #e3ebf6;}
    .mobile-capture-btn{width:70px;height:70px;border-radius:50%;background:white;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 15px rgba(0,0,0,0.2);transition:var(--transition);}
    .mobile-capture-btn:hover{transform:scale(1.05);}
    .mobile-capture-btn i{font-size:30px;color:var(--primary);}
    .mobile-tool{width:50px;height:50px;border-radius:50%;background:#f5f7fb;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);}
    .mobile-tool:hover{background:#e3ebf6;}
    .mobile-tool i{font-size:20px;color:var(--gray);}
    .document-type-selector{display:flex;gap:10px;padding:15px;overflow-x:auto;background:white;border-bottom:1px solid #e3ebf6;}
    .doc-type{padding:8px 15px;border-radius:20px;background:#f5f7fb;font-size:14px;white-space:nowrap;cursor:pointer;transition:var(--transition);}
    .doc-type.active{background:var(--primary);color:white;}
    .upload-section{background:white;padding:20px;border-bottom:1px solid #e3ebf6;}
    .upload-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;}
    .upload-title{font-size:18px;font-weight:600;}
    .upload-area{border:2px dashed #d1d7e0;border-radius:var(--radius);padding:30px 15px;text-align:center;cursor:pointer;transition:var(--transition);background:var(--light);}
    .upload-area:hover{border-color:var(--primary);background:#f0f5ff;}
    .upload-area i{font-size:40px;color:var(--primary);margin-bottom:15px;}
    .upload-btn{background:var(--primary);color:white;padding:8px 20px;border-radius:30px;font-weight:600;cursor:pointer;display:inline-block;transition:var(--transition);}
    .upload-btn:hover{background:var(--primary-dark);}
    .uploaded-images{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:15px;}
    .uploaded-image{position:relative;border-radius:8px;overflow:hidden;box-shadow:0 3px 10px rgba(0,0,0,0.1);cursor:pointer;aspect-ratio:3/4;}
    .uploaded-image img{width:100%;height:100%;object-fit:cover;display:block;}
    .image-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;opacity:0;transition:var(--transition);}
    .uploaded-image:hover .image-overlay{opacity:1;}
    .image-actions{display:flex;gap:10px;}
    .image-action{width:35px;height:35px;border-radius:50%;background:white;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);}
    .image-action:hover{transform:scale(1.1);}
    .scanned-documents{padding:20px;background:white;}
    .documents-title{font-size:18px;font-weight:600;margin-bottom:15px;display:flex;justify-content:space-between;align-items:center;}
    .document-list{display:flex;flex-direction:column;gap:15px;}
    .document-item{display:flex;gap:15px;padding:15px;border-radius:var(--radius);background:var(--light);cursor:pointer;transition:var(--transition);border:1px solid #e3ebf6;}
    .document-item:hover{background:#e3ebf6;}
    .document-item.active{background:#e1f0ff;border:1px solid var(--primary);}
    .document-thumbnail{width:60px;height:80px;background:var(--gray);border-radius:5px;display:flex;align-items:center;justify-content:center;color:white;font-size:24px;overflow:hidden;}
    .document-thumbnail img{width:100%;height:100%;object-fit:cover;}
    .document-info{flex:1;}
    .document-name{font-weight:600;margin-bottom:5px;}
    .document-meta{font-size:12px;color:var(--gray);}
    .edit-tools{padding:20px;background:white;border-top:1px solid #e3ebf6;display:flex;flex-wrap:wrap;gap:10px;position:sticky;bottom:0;z-index:10;}
    .tool-btn{padding:10px 15px;border-radius:30px;background:#f5f7fb;border:1px solid #e3ebf6;display:flex;align-items:center;gap:8px;cursor:pointer;transition:var(--transition);font-size:14px;}
    .tool-btn:hover{background:#e3ebf6;}
    .tool-btn i{color:var(--gray);}
    .hidden{display:none;}
    .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;pointer-events:none;transition:var(--transition);}
    .modal.active{opacity:1;pointer-events:all;}
    .modal-content{background:white;border-radius:var(--radius);width:90%;max-width:500px;padding:25px;position:relative;transform:translateY(20px);transition:var(--transition);}
    .modal.active .modal-content{transform:translateY(0);}
    .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;}
    .modal-title{font-size:20px;font-weight:600;}
    .modal-close{width:30px;height:30px;border-radius:50%;background:#f5f7fb;display:flex;align-items:center;justify-content:center;cursor:pointer;}
    .modal-actions{display:flex;gap:10px;margin-top:20px;}
    .modal-btn{flex:1;padding:12px;border-radius:var(--radius);text-align:center;cursor:pointer;transition:var(--transition);font-weight:600;}
    .modal-btn.primary{background:var(--primary);color:white;}
    .modal-btn.primary:hover{background:var(--primary-dark);}
    .modal-btn.secondary{background:#f5f7fb;color:var(--gray);}
    @media(max-width:768px){.desktop-view{display:none;}.mobile-view{display:block;}}
  </style>
</head>
<body>
  <!-- Desktop View with QR Code -->
  <div class="desktop-view">
    <div class="desktop-logo">
      <i class="fas fa-camera"></i><span>DocScan Pro</span>
    </div>
    <h1 class="desktop-title">Scan Documents on Your Mobile Device</h1>
    <p class="desktop-subtitle">Our premium document scanner is optimized for mobile devices. Scan your documents with high resolution, auto-crop, and advanced editing tools right from your phone.</p>
    <div class="qr-container">
      <h2 class="qr-title">Scan to Open on Mobile</h2>
      <canvas class="qr-code" id="qrCode"></canvas>
      <p class="qr-instructions">Point your phone's camera at the QR code to open the scanner</p>
    </div>
  </div>

  <!-- Mobile View -->
  <div class="mobile-view">
    <div class="mobile-header">
      <div class="mobile-logo"><i class="fas fa-camera"></i><span>DocScan Pro</span></div>
      <div class="mobile-controls">
        <div class="mobile-control-btn" id="flashToggle"><i class="fas fa-bolt"></i></div>
        <div class="mobile-control-btn" id="settingsBtn"><i class="fas fa-cog"></i></div>
      </div>
    </div>

    <div class="mobile-camera">
      <div class="auto-detect-indicator"><i class="fas fa-bolt"></i> Auto-detect enabled</div>
      <div class="document-outline" id="documentOutline"></div>
      <div class="flash-effect" id="flashEffect"></div>
      <img src="" class="camera-preview" id="cameraPreview" alt="Camera Preview">
      <div class="camera-placeholder" id="cameraPlaceholder">
        <i class="fas fa-camera"></i>
        <h3>Camera Preview</h3>
        <p>Position your document within the frame</p>
      </div>
    </div>

    <div class="document-type-selector">
      <div class="doc-type active">Document</div>
      <div class="doc-type">Receipt</div>
      <div class="doc-type">Business Card</div>
      <div class="doc-type">Whiteboard</div>
    </div>

    <div class="upload-section">
      <div class="upload-header">
        <div class="upload-title">Upload Images</div>
        <div class="mobile-control-btn" id="galleryBtn"><i class="fas fa-folder-open"></i></div>
      </div>
      <div class="upload-area" id="uploadArea">
        <i class="fas fa-cloud-upload-alt"></i>
        <h3>Upload Images</h3>
        <p>Tap to select from your gallery</p>
        <div class="upload-btn">Select Files</div>
        <input type="file" id="fileInput" class="hidden" accept="image/*" multiple>
      </div>
      <div class="uploaded-images" id="uploadedImages"></div>
    </div>

    <div class="mobile-controls-bottom">
      <div class="mobile-tool" id="filterToggle"><i class="fas fa-sliders-h"></i></div>
      <div class="mobile-capture-btn" id="captureBtn"><i class="fas fa-camera"></i></div>
      <div class="mobile-tool" id="galleryToggle"><i class="fas fa-images"></i></div>
    </div>

    <div class="scanned-documents">
      <div class="documents-title"><span>Scanned Documents</span><span id="docCount">0/10</span></div>
      <div class="document-list" id="documentList"></div>
    </div>

    <div class="edit-tools">
      <div class="tool-btn" id="autoCropBtn"><i class="fas fa-crop-alt"></i> Auto Crop</div>
      <div class="tool-btn" id="rotateBtn"><i class="fas fa-redo"></i> Rotate</div>
      <div class="tool-btn" id="filterBtn"><i class="fas fa-magic"></i> Filters</div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div class="modal" id="settingsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Settings</h2>
        <div class="modal-close" id="closeSettingsModal"><i class="fas fa-times"></i></div>
      </div>
      <div style="margin-bottom:20px;">
        <h3 style="margin-bottom:10px;">Image Quality</h3>
        <div style="display:flex;gap:10px;">
          <div class="tool-btn active">Standard</div>
          <div class="tool-btn">High</div>
        </div>
      </div>
      <div style="margin-bottom:20px;">
        <h3 style="margin-bottom:10px;">File Format</h3>
        <div style="display:flex;gap:10px;">
          <div class="tool-btn active">PDF</div>
          <div class="tool-btn">JPG</div>
        </div>
      </div>
      <div class="modal-actions">
        <div class="modal-btn secondary" id="closeSettings">Close</div>
        <div class="modal-btn primary" id="saveSettings">Save</div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const qrCanvas = document.getElementById('qrCode');
      const currentUrl = window.location.href.split('?')[0] + '?view=mobile';
      QRCode.toCanvas(qrCanvas, currentUrl, {
        width: 200,
        margin: 1,
        color: { dark: '#12263f', light: '#ffffff' }
      });

      const urlParams = new URLSearchParams(window.location.search);
      const isMobileView = urlParams.get('view') === 'mobile' || window.innerWidth <= 768;
      if (isMobileView) {
        document.querySelector('.desktop-view').style.display = 'none';
        document.querySelector('.mobile-view').style.display = 'block';
      } else {
        document.querySelector('.desktop-view').style.display = 'block';
        document.querySelector('.mobile-view').style.display = 'none';
      }

      // Mobile simulation functions remain unchanged
      const docTypes = document.querySelectorAll('.doc-type');
      docTypes.forEach(t => t.addEventListener('click', () => {
        docTypes.forEach(d => d.classList.remove('active'));
        t.classList.add('active');
      }));

      const flashToggle = document.getElementById('flashToggle');
      flashToggle.addEventListener('click', () => {
        flashToggle.classList.toggle('active');
        flashToggle.querySelector('i').style.color = flashToggle.classList.contains('active') ? 'yellow' : 'white';
      });

      const captureBtn = document.getElementById('captureBtn');
      const flashEffect = document.getElementById('flashEffect');
      const documentList = document.getElementById('documentList');
      const docCount = document.getElementById('docCount');

      let scannedCount = 0;
      captureBtn.addEventListener('click', () => {
        flashEffect.classList.add('active');
        setTimeout(() => flashEffect.classList.remove('active'), 400);
        scannedCount++;
        const item = document.createElement('div');
        item.className = 'document-item';
        item.innerHTML = `
          <div class="document-thumbnail"><i class="fas fa-file-image"></i></div>
          <div class="document-info">
            <div class="document-name">Scanned Document ${scannedCount}</div>
            <div class="document-meta">1 page Â· ${new Date().toLocaleTimeString()}</div>
          </div>`;
        documentList.prepend(item);
        docCount.textContent = scannedCount + '/10';
      });

      const fileInput = document.getElementById('fileInput');
      const uploadArea = document.getElementById('uploadArea');
      const uploadedImages = document.getElementById('uploadedImages');

      uploadArea.addEventListener('click', () => fileInput.click());
      fileInput.addEventListener('change', e => {
        Array.from(e.target.files).forEach(file => {
          const reader = new FileReader();
          reader.onload = () => {
            const imgContainer = document.createElement('div');
            imgContainer.className = 'uploaded-image';
            imgContainer.innerHTML = `
              <img src="${reader.result}" alt="Uploaded">
              <div class="image-overlay">
                <div class="image-actions">
                  <div class="image-action" title="Scan"><i class="fas fa-camera"></i></div>
                  <div class="image-action" title="Delete"><i class="fas fa-trash"></i></div>
                </div>
              </div>`;
            uploadedImages.appendChild(imgContainer);
          };
          reader.readAsDataURL(file);
        });
      });

      const settingsModal = document.getElementById('settingsModal');
      document.getElementById('settingsBtn').addEventListener('click', () => settingsModal.classList.add('active'));
      document.getElementById('closeSettingsModal').addEventListener('click', () => settingsModal.classList.remove('active'));
      document.getElementById('closeSettings').addEventListener('click', () => settingsModal.classList.remove('active'));
      document.getElementById('saveSettings').addEventListener('click', () => {
        alert('Settings saved!');
        settingsModal.classList.remove('active');
      });
    });
  </script>
</body>
</html>
